<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/buttons.css" />
    <link rel="stylesheet" href="css/home.css" />
    <link rel="stylesheet" href="css/calendar.css" />
    <link rel="stylesheet" href="css/profile.css" />

    <script src="src/services/getUser.js"></script>

    <script src="src/getUserTasks.js"></script>
    <script src="src/getTaskStates.js"></script>
    <script src="src/onReady.js"></script>
    <script src="src/getUserNameOcu.js"></script>
    <script src="src/isUnlogged.js"></script>

    <title>Task Manager</title>
  </head>
  <body>
    <div class="bodyWrapper fontFamily" id="homeWrap">
      <header class="subWrapper txtTitle" style="flex-direction: row; gap: 11px">
        <div id="picuterePlaceholder"></div>
        <div class="subWrapper" style="gap: 18px; justify-content: center">
          <div class="subWrapper" style="flex-direction: column; text-align: left; align-items: left">
            <span class="subTxtHome" id="profileName"></span>
            <span class="subTxtHome" id="profileOcu"></span>
          </div>
          <button type="button" class="defaultBox" id="editProfile" onclick="">Edit Profile</button>
        </div>
      </header>
      <div class="defaultBox" id="percentBox">
        <span id="amzTxt">Amazing!</span>
        <span id="tasksCompletedProfile"></span>
        <script>
          const taskArray = getTaskStates();
          const completedTaks = getTaskStates().filter((item) => item.state === "Completed");
          document.getElementById("tasksCompletedProfile").innerText = `You have completed\n${completedTaks.length} tasks!`;
        </script>
        <button class="defaultBox" id="detailBtn" onclick="document.location.href = 'calendar.html'">Details</button>
        <img src="img/homeScreen/diaryWhite.png" id="diaryWhite" />
      </div>
      <div class="subWrapper fontFamily" id="profileOps">
        <button class="profileBtn"><img src="img/profileScreen/ icon _User_.svg" /><span>Account information</span></button>
        <button class="profileBtn"><img src="img/profileScreen/ icon _settings account more_.svg" /><span>Settings</span></button>
        <button
          class="profileBtn"
          onclick="localStorage.removeItem('auth')
        document.location.href = 'index.html'"
        >
          <img src="img/profileScreen/ icon _log out_.svg" /><span>Log out</span>
        </button>
      </div>
    </div>

    <footer>
      <input type="image" id="calendarSvg" src="img/buttons/ icon _home_.svg " onclick="document.location.href = 'home.html'" />
      <input type="image" id="profileSvg" src="img/ icon _Calendar_.svg" onclick="document.location.href = 'calendar.html'" />
      <input type="image" id="createTaskSvg" src="img/buttons/ icon _plus circle_.svg" onclick="document.location.href = 'createTask.html'" />
      <input type="image" id="bellSvg " src="img/buttons/ icon _bell_.svg" onclick="document.location.href = 'notification.html'" />
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12.1345 13.7079C12.1122 13.7079 12.0787 13.7079 12.0564 13.7079C12.0229 13.7079 11.9782 13.7079 11.9447 13.7079C9.41074 13.6298 7.51306 11.6539 7.51306 9.22044C7.51306 6.7423 9.53353 4.72183 12.0117 4.72183C14.4898 4.72183 16.5103 6.7423 16.5103 9.22044C16.4991 11.6651 14.5903 13.6298 12.168 13.7079C12.1457 13.7079 12.1457 13.7079 12.1345 13.7079ZM12.0005 6.38509C10.4377 6.38509 9.17632 7.65765 9.17632 9.20927C9.17632 10.7386 10.3708 11.9777 11.8889 12.0335C11.9224 12.0223 12.034 12.0223 12.1457 12.0335C13.6415 11.9553 14.8136 10.7274 14.8247 9.20927C14.8247 7.65765 13.5633 6.38509 12.0005 6.38509Z"
          fill="#6368D9"
        />
        <path
          d="M12.0009 24.0001C8.99808 24.0001 6.12925 22.8838 3.90785 20.8522C3.70692 20.6736 3.61762 20.4057 3.63995 20.1489C3.78506 18.8206 4.61111 17.5815 5.98413 16.6662C9.31064 14.4559 14.7023 14.4559 18.0176 16.6662C19.3906 17.5927 20.2167 18.8206 20.3618 20.1489C20.3953 20.4169 20.2948 20.6736 20.0939 20.8522C17.8725 22.8838 15.0037 24.0001 12.0009 24.0001ZM5.3925 19.9257C7.24553 21.4773 9.57855 22.3257 12.0009 22.3257C14.4232 22.3257 16.7562 21.4773 18.6092 19.9257C18.4083 19.2448 17.8725 18.5862 17.0799 18.0503C14.3339 16.2196 9.67902 16.2196 6.91064 18.0503C6.11809 18.5862 5.59343 19.2448 5.3925 19.9257Z"
          fill="#6368D9"
        />
        <path
          d="M12 24C5.38047 24 0 18.6195 0 12C0 5.38047 5.38047 0 12 0C18.6195 0 24 5.38047 24 12C24 18.6195 18.6195 24 12 24ZM12 1.67442C6.30698 1.67442 1.67442 6.30698 1.67442 12C1.67442 17.693 6.30698 22.3256 12 22.3256C17.693 22.3256 22.3256 17.693 22.3256 12C22.3256 6.30698 17.693 1.67442 12 1.67442Z"
          fill="#6368D9"
        />
      </svg>
    </footer>
  </body>
</html>
